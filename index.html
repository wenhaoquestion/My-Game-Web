<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Wenhao's Web Arcade</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
</head>
<body data-theme="nebula" data-ambient="on" data-game="menu">
<div class="app-shell">
    <header class="app-header">
        <div class="header-main">
            <div class="header-title">
                <h1>Wenhao's Web Arcade</h1>
                <p>Mini games.</p>
            </div>
            <div class="header-actions">
                <div class="theme-select">
                    <span class="muted">Theme</span>
                    <select id="theme-select" class="theme-dropdown">
                        <option value="nebula">Nebula</option>
                        <option value="solaris">Solaris</option>
                        <option value="aqua">Aqua Rift</option>
                        <option value="ember">Ember</option>
                        <option value="verdant">Verdant</option>
                    </select>
                </div>
                <button id="ambient-toggle-btn" class="btn small">Aura: On</button>
            </div>
        </div>
    </header>

    <!-- ====== 游戏大厅：可以不断加卡片 ====== -->
    <main id="menu-screen" class="screen active">
        <section class="game-grid">
            <!-- Snake 卡片 -->
            <article class="game-card">
                <div class="game-card-header">
                    <h2>Neon Snake</h2>
                </div>
                <p class="game-desc">
                    Classic snake with neon glow, levels, skins and power-ups.
                </p>
                <ul class="game-tags">
                    <li>Arcade</li>
                    <li>Grid</li>
                    <li>Power-ups</li>
                </ul>
                <button id="play-snake-btn"
                        class="btn primary"
                        onclick="switchToSnake()">
                    Play Snake
                </button>
            </article>

            <!-- 2048 卡片 -->
            <article class="game-card">
                <div class="game-card-header">
                    <h2>2048 Puzzle</h2>
                </div>
                <p class="game-desc">
                    Slide and merge tiles to reach 2048 with smooth animations.
                </p>
                <ul class="game-tags">
                    <li>Puzzle</li>
                    <li>Grid</li>
                </ul>
                <button id="play-2048-btn"
                        class="btn primary"
                        onclick="switchTo2048()">
                    Play 2048
                </button>
            </article>

            <!-- Sudoku 卡片 -->
            <article class="game-card">
                <div class="game-card-header">
                    <h2>Prism Sudoku</h2>
                </div>
                <p class="game-desc">
                    Classic + Killer Sudoku with radiant cages, aura highlights, and multi-tier difficulties.
                </p>
                <ul class="game-tags">
                    <li>Logic</li>
                    <li>Grid</li>
                    <li>Killer</li>
                </ul>
                <button id="play-sudoku-btn"
                        class="btn primary"
                        onclick="switchToSudoku()">
                    Play Sudoku
                </button>
            </article>

            <!-- Coin Toss 卡片 -->
            <article class="game-card">
                <div class="game-card-header">
                    <h2>Lucky Coin Toss</h2>
                </div>
                <p class="game-desc">
                    Flip a shiny coin, track streaks, and log your lucky history.
                </p>
                <ul class="game-tags">
                    <li>Casual</li>
                    <li>Chance</li>
                    <li>Quick Play</li>
                </ul>
                <button id="play-coin-btn"
                        class="btn primary"
                        onclick="switchToCoin()">
                    Flip a Coin
                </button>
            </article>

            <article class="game-card">
                <div class="game-card-header">
                    <h2>Prismatic Tetris</h2>
                </div>
                <p class="game-desc">
                    High-energy Tetris with multiple modes and levels, featuring combo light effects and energy surges.
                </p>
                <ul class="game-tags">
                    <li>Arcade</li>
                    <li>Endless</li>
                    <li>Challenge</li>
                </ul>
                <button id="play-tetris-btn"
                        class="btn primary"
                        onclick="switchToTetris()">
                    Launch Tetris
                </button>
            </article>
        </section>
    </main>

    <!-- ====== Snake 游戏画面 ====== -->
    <main id="snake-screen" class="screen">
        <div class="snake-layout">
            <div class="snake-top-bar">
                <button id="back-to-menu-btn"
                        class="btn ghost"
                        onclick="switchToMenu()">
                    &larr; Back
                </button>
                <div class="snake-title">
                    <h2>Neon Snake</h2>
                    <span class="subtitle">WASD / Arrow keys · ESC to pause · Swipe to turn</span>
                </div>
                <div class="skin-indicator">
                    <span id="skin-label">Skin: Green</span>
                </div>
            </div>

            <div class="snake-main">
                <canvas id="snake-canvas"></canvas>

                <aside class="snake-sidebar">
                    <div class="info-card">
                        <h3>Mode</h3>
                        <p id="mode-label">Classic</p>
                        <button id="toggle-mode-btn" class="btn small">Toggle Mode</button>
                    </div>

                    <div class="info-card">
                        <h3>Speed</h3>
                        <p id="speed-label">2</p>
                        <button id="toggle-speed-btn" class="btn small">Toggle Speed</button>
                    </div>

                    <div class="info-card">
                        <h3>Level</h3>
                        <p id="level-label">Free Practice</p>
                        <button id="toggle-level-btn" class="btn small">Toggle Level</button>
                    </div>

                    <div class="info-card">
                        <h3>Score</h3>
                        <p id="score-label">0</p>
                        <p class="muted">Best: <span id="highscore-label">0</span></p>
                    </div>

                    <div class="info-card">
                        <h3>Skin</h3>
                        <p id="skin-name-label">Green</p>
                        <button id="toggle-skin-btn" class="btn small">Toggle Skin</button>
                    </div>

                    <div class="info-card">
                        <h3>Status</h3>
                        <p id="status-label">Normal</p>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- ====== 2048 游戏画面 ====== -->
    <main id="game2048-screen" class="screen">
        <div class="game2048-layout">
            <div class="game2048-top-bar">
                <button id="back-to-menu-2048-btn"
                        class="btn ghost"
                        onclick="switchToMenu()">
                    &larr; Back
                </button>
                <div class="game2048-title">
                    <h2>2048 Puzzle</h2>
                    <span class="subtitle">Use arrow keys / WASD or swipe to move</span>
                </div>
                <div class="game2048-status">
                    <span id="game2048-state-label">Playing</span>
                </div>
            </div>

            <div class="game2048-main">
                <div id="game2048-board" class="board-2048">
                    <div class="board-2048-bg" id="board-2048-bg"></div>
                    <div class="board-2048-tiles" id="board-2048-tiles"></div>
                    <div class="board-2048-overlay" id="game2048-win-dialog">
                        <div class="overlay-card">
                            <p class="overlay-title">Reached 2048!</p>
                            <p class="overlay-desc">Want to continue? Choosing to continue will enter the endless mode.</p>
                            <div class="overlay-actions">
                                <button class="btn primary" id="game2048-continue-btn">Continue</button>
                                <button class="btn ghost" id="game2048-stay-btn">End</button>
                            </div>
                        </div>
                    </div>
                </div>

                <aside class="game2048-sidebar">
                    <div class="info-card">
                        <h3>Score</h3>
                        <p id="game2048-score">0</p>
                    </div>

                    <div class="info-card">
                        <h3>Best</h3>
                        <p id="game2048-best">0</p>
                    </div>

                    <div class="info-card">
                        <h3>Controls</h3>
                        <p class="muted">
                            ↑ ↓ ← → or WASD<br/>
                            Reach 2048 to win. Keep going for a higher score!
                        </p>
                    </div>

                    <div class="info-card">
                        <button id="game2048-newgame-btn" class="btn primary" style="width:100%;">
                            New Game
                        </button>
                    </div>

                    <div class="info-card">
                        <h3>Board Size</h3>
                        <div class="size-buttons">
                            <button class="btn small" data-board-size="3">3×3</button>
                            <button class="btn small" data-board-size="4">4×4</button>
                            <button class="btn small" data-board-size="5">5×5</button>
                            <button class="btn small" data-board-size="6">6×6</button>
                        </div>
                    </div>

                </aside>
            </div>
        </div>
    </main>

    <!-- ====== Coin Toss 游戏画面 ====== -->
    <main id="coin-screen" class="screen">
        <div class="coin-layout">
            <div class="coin-top-bar">
                <button id="back-to-menu-coin-btn"
                        class="btn ghost"
                        onclick="switchToMenu()">
                    &larr; Back
                </button>
                <div class="coin-title">
                    <h2>Lucky Coin Toss</h2>
                    <span class="subtitle">Tap or press Space to toss the glowing coin</span>
                </div>
                <div class="coin-status">
                    <span id="coin-last-result">Waiting...</span>
                </div>
            </div>

            <div class="coin-main">
                <div class="coin-card">
                    <div class="coin-display" id="coin-display">
                        <div class="coin-face" id="coin-face">?</div>
                    </div>
                    <p class="coin-message" id="coin-message">Ready to try your luck?</p>
                    <div class="coin-actions">
                        <button id="flip-coin-btn" class="btn primary">Flip Coin</button>
                        <button id="reset-coin-btn" class="btn ghost">Reset Stats</button>
                    </div>
                </div>

                <aside class="coin-sidebar">
                    <div class="info-card">
                        <h3>Totals</h3>
                        <p>Flips: <span id="coin-total">0</span></p>
                        <p>Heads: <span id="coin-heads">0</span></p>
                        <p>Tails: <span id="coin-tails">0</span></p>
                    </div>

                    <div class="info-card">
                        <h3>Streak</h3>
                        <p class="muted">Current: <span id="coin-streak">0</span></p>
                        <p class="muted">Best: <span id="coin-best-streak">0</span></p>
                    </div>

                    <div class="info-card">
                        <h3>History</h3>
                        <ul class="coin-history" id="coin-history"></ul>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- ====== Sudoku 游戏画面 ====== -->
    <main id="sudoku-screen" class="screen">
        <div class="sudoku-layout">
            <div class="sudoku-top-bar">
                <button id="back-to-menu-sudoku-btn"
                        class="btn ghost"
                        onclick="switchToMenu()">
                    &larr; Back
                </button>
                <div class="sudoku-title">
                    <h2>Prism Sudoku</h2>
                    <span class="subtitle">1-9 输入 · Backspace 删除 · 方向键移动</span>
                </div>
                <div class="sudoku-status">
                    <span id="sudoku-mode-label">Classic</span>
                    <span class="badge" id="sudoku-difficulty-label">Easy</span>
                </div>
            </div>

            <div class="sudoku-main">
                <div class="sudoku-board-wrap">
                    <div id="sudoku-board" class="sudoku-board"></div>
                    <div class="sudoku-overlay" id="sudoku-overlay">
                        <div class="overlay-card">
                            <p class="overlay-title" id="sudoku-overlay-title">Puzzle Solved</p>
                            <p class="overlay-desc" id="sudoku-overlay-desc">Need another challenge? Spin up a fresh grid.</p>
                            <div class="overlay-actions">
                                <button class="btn primary" id="sudoku-play-again-btn">New Puzzle</button>
                                <button class="btn ghost" id="sudoku-continue-btn">Keep Playing</button>
                            </div>
                        </div>
                    </div>
                </div>

                <aside class="sudoku-sidebar">
                    <div class="info-card">
                        <h3>Session</h3>
                        <p>Time: <span id="sudoku-timer">0:00</span></p>
                        <p>Mistakes: <span id="sudoku-mistakes">0</span></p>
                        <p>Hints: <span id="sudoku-hints">0</span></p>
                        <p class="muted" id="sudoku-state">Ready</p>
                    </div>

                    <div class="info-card">
                        <h3>Mode</h3>
                        <div class="sudoku-control-row">
                            <button class="btn small sudoku-mode-btn active" data-mode="classic">Classic</button>
                            <button class="btn small sudoku-mode-btn" data-mode="killer">Killer</button>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Difficulty</h3>
                        <div class="sudoku-control-row">
                            <button class="btn small sudoku-difficulty-btn active" data-difficulty="easy">Easy</button>
                            <button class="btn small sudoku-difficulty-btn" data-difficulty="medium">Medium</button>
                            <button class="btn small sudoku-difficulty-btn" data-difficulty="hard">Hard</button>
                            <button class="btn small sudoku-difficulty-btn" data-difficulty="expert">Expert</button>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Input Mode</h3>
                        <div class="sudoku-control-row">
                            <button id="sudoku-note-toggle" class="btn small">Notes: Off</button>
                            <button id="sudoku-auto-toggle" class="btn small active">Auto-check: On</button>
                        </div>
                        <p class="muted">Press N to toggle notes.</p>
                    </div>

                    <div class="info-card">
                        <h3>Actions</h3>
                        <div class="sudoku-control-row">
                            <button id="sudoku-newgame-btn" class="btn primary">New Puzzle</button>
                            <button id="sudoku-hint-btn" class="btn ghost">Hint</button>
                            <button id="sudoku-clear-btn" class="btn ghost">Clear Cell</button>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Validation</h3>
                        <div class="sudoku-control-row">
                            <button class="btn small sudoku-limit-btn active" data-limit="0">Limit: Off</button>
                            <button class="btn small sudoku-limit-btn" data-limit="3">Limit: 3</button>
                            <button class="btn small sudoku-limit-btn" data-limit="5">Limit: 5</button>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Number Pad</h3>
                        <div class="sudoku-pad" id="sudoku-pad">
                            <button class="btn small" data-value="1">1</button>
                            <button class="btn small" data-value="2">2</button>
                            <button class="btn small" data-value="3">3</button>
                            <button class="btn small" data-value="4">4</button>
                            <button class="btn small" data-value="5">5</button>
                            <button class="btn small" data-value="6">6</button>
                            <button class="btn small" data-value="7">7</button>
                            <button class="btn small" data-value="8">8</button>
                            <button class="btn small" data-value="9">9</button>
                            <button class="btn small sudoku-erase" data-value="0">Erase</button>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Achievements</h3>
                        <p>Total Solves: <span id="sudoku-total-solves">0</span></p>
                        <p>Perfect Solves: <span id="sudoku-perfect-solves">0</span></p>
                        <p>Current Streak: <span id="sudoku-current-streak">0</span></p>
                        <p>Best Streak: <span id="sudoku-best-streak">0</span></p>
                        <p>Average Time: <span id="sudoku-average-time">--</span></p>
                        <p>Best Time: <span id="sudoku-best-time">--</span></p>
                        <p>Hardest Clear: <span id="sudoku-hardest-clear">--</span></p>
                        <p class="muted" id="sudoku-best-detail">No record yet</p>
                        <p class="muted" id="sudoku-hardest-detail"></p>
                    </div>

                    <div class="info-card">
                        <h3>Killer Rules</h3>
                        <p class="muted">Cages show sum targets. Digits in a cage cannot repeat.</p>
                        <p class="muted">Auto-check can be toggled. Wrong entries glow red.</p>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <main id="tetris-screen" class="screen">
        <div class="tetris-layout">
            <div class="tetris-top-bar">
                <button id="back-to-menu-tetris-btn"
                        class="btn ghost"
                        onclick="switchToMenu()">
                    &larr; Back
                </button>
                <div class="tetris-title">
                    <h2>Prismatic Tetris</h2>
                    <span class="subtitle">方向键 / WASD 移动 · Q/E 旋转 · 空格硬降 · Shift 交换保留</span>
                </div>
                <div class="tetris-status">
                    <span id="tetris-mode-label">Marathon</span>
                    <span class="badge" id="tetris-stage-label">Stage 1</span>
                </div>
            </div>

            <div class="tetris-main">
                <div class="tetris-board-wrap">
                    <canvas id="tetris-canvas" width="320" height="640"></canvas>
                    <div class="tetris-overlay" id="tetris-overlay">
                        <div class="overlay-card">
                            <p class="overlay-title" id="tetris-overlay-title">Paused</p>
                            <p class="overlay-desc" id="tetris-overlay-desc">Press Space to resume</p>
                            <div class="overlay-actions">
                                <button class="btn primary" id="tetris-overlay-primary">Resume</button>
                                <button class="btn ghost" id="tetris-overlay-secondary">Restart</button>
                            </div>
                        </div>
                    </div>
                </div>

                <aside class="tetris-sidebar">
                    <div class="info-card">
                        <h3>Score & Lines</h3>
                        <p>Score: <span id="tetris-score">0</span></p>
                        <p>Lines: <span id="tetris-lines">0</span></p>
                        <p>Level: <span id="tetris-level">1</span></p>
                        <p class="muted">Goal: <span id="tetris-goal">-</span></p>
                    </div>

                    <div class="info-card">
                        <h3>Mode & Stage</h3>
                        <div class="tetris-mode-row">
                            <label for="tetris-mode-select" class="muted">Mode</label>
                            <select id="tetris-mode-select" class="tetris-select">
                                <option value="marathon">Marathon · 150 Lines</option>
                                <option value="sprint">Sprint · 40 Lines</option>
                                <option value="ultra">Ultra · 120s</option>
                                <option value="gauntlet">Gauntlet · Garbage Rush</option>
                            </select>
                        </div>
                        <div class="tetris-mode-row">
                            <label for="tetris-stage-select" class="muted">Stage</label>
                            <select id="tetris-stage-select" class="tetris-select"></select>
                        </div>
                        <div class="tetris-actions">
                            <button class="btn primary" id="tetris-start-btn">Start / Restart</button>
                            <button class="btn ghost" id="tetris-pause-btn">Pause</button>
                        </div>
                        <p class="muted" id="tetris-message">Choose a mode to begin.</p>
                    </div>

                    <div class="info-card">
                        <h3>Meter</h3>
                        <p>Combo: <span id="tetris-combo">0</span></p>
                        <p>Back-to-back: <span id="tetris-b2b">0</span></p>
                        <p>Energy: <span id="tetris-energy">0%</span></p>
                        <div class="tetris-energy-bar">
                            <div class="tetris-energy-fill" id="tetris-energy-fill"></div>
                        </div>
                        <p class="muted">Timer: <span id="tetris-timer">0.0s</span></p>
                    </div>

                    <div class="info-card">
                        <h3>Next</h3>
                        <div class="tetris-mini" id="tetris-next"></div>
                    </div>

                    <div class="info-card">
                        <h3>Hold</h3>
                        <div class="tetris-mini" id="tetris-hold"></div>
                        <p class="muted">Shift / C to swap once per piece</p>
                    </div>

                    <div class="info-card">
                        <h3>Modifiers</h3>
                        <ul class="tetris-tags" id="tetris-modifiers"></ul>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <footer class="app-footer">
        <span>Built by Wenhao · Powered by HTML5 Canvas</span>
    </footer>
</div>

<script src="snake.js"></script>
<script src="2048.js"></script>
<script src="coin.js"></script>
<script src="sudoku.js"></script>
<script src="tetris.js"></script>
<script src="main.js"></script>
</body>
</html>
